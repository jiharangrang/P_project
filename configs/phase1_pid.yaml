hardware:
  use_led: true
  use_beep: true
  led_on_start: true
  beep_on_start: true
  led_mode: 2
  servo_defaults: [87, 15]
  servo_neutral: [90, 25]
  camera:
    index: 0
    resolution: [320, 240]
    brightness: 0
    contrast: 0
    saturation: 50
    exposure: 100
    gain: 0

perception:
  roi_top: 871          # 0~1000 스케일
  roi_bottom: 946       # 0~1000 스케일
  detect_value: 120     # HSV/그레이 임계값 기준
  ipm_resolution: [320, 240]

control:
  base_speed: 40        # 직진 기본 속도
  speed_limit: 120      # 모터 포화 한계
  steer_limit: 80       # PID 출력 한계 (좌/우)
  steer_scale: 1.0
  steer_deadband: 0.0
  kp: 45.0
  ki: 0.0
  kd: 8.0

  # 좌/우 턴 감지 및 제어 스케일
  turn:
    slope_thresh: 0.25     # heading 기울기 임계
    offset_thresh: 0.30    # 중심 오차 임계
    speed_scale: 0.70      # 턴 시 감속 계수
    steer_scale: 1.30      # 턴 시 조향 스케일 배율

  # 끝단(좌/우) 검정 비율 기반 보조 조향
  edge:
    width_px: 15           # 좌/우 끝 슬라이스 폭(px)
    height_top: 0.50       # 슬라이스 상단 비율(0~1)
    height_bot: 1.00       # 슬라이스 하단 비율(0~1)
    gain: 0.40             # 끝단 바이어스 가중치
    thresh: 0.10           # 차이가 이 값 이상일 때만 적용
    smooth_alpha: 0.20     # EMA 계수(0이면 무필터)

runtime:
  show_windows: true
  print_debug: true
  fail_safe_beep: true
  fps_window: 15
  headless_delay: 0.02
